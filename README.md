# CV-2-07
# Template Matching Tool üîçüñº
## Overview üìä
–≠—Ç–æ—Ç Python-—Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø–æ —à–∞–±–ª–æ–Ω—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ cv2.matchTemplate –∏–∑ OpenCV.
–°–∫—Ä–∏–ø—Ç –≤—ã—Ä–µ–∑–∞–µ—Ç —É—á–∞—Å—Ç–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ —à–∞–±–ª–æ–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º –∏ ¬´–∑–∞—à—É–º–ª—ë–Ω–Ω–æ–º¬ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ø–æ–º–æ—â—å—é Matplotlib. üß†‚ú®

## Requirements üõ†
- Python 3.8+
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
 - opencv-python ‚â• 4.8 ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π üß∞
 - numpy ‚â• 1.25 ‚Äî —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ üî¢
 - matplotlib ‚â• 3.8 ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è üìà
 - scikit-image ‚â• 0.21 ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) üåå

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
pip install -r requirements.txt
```
## Usage ‚ñ∂Ô∏è
–ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è astronaut –∏–∑ skimage):
python template_match.py

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã CLI:
```bash
--image_path path/to/image.jpg ‚Äî –ø—É—Ç—å –∫ —Å–≤–æ–µ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é

--tpl_rect x y w h ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ —à–∞–±–ª–æ–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≥–ª–∞–∑ —É astronaut)

--method TM_CCOEFF_NORMED ‚Äî –º–µ—Ç–æ–¥ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–µ—Å—Ç—å 6 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

--interactive ‚Äî –≤—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω –º—ã—à–∫–æ–π üñ±

--out1, --out2 ‚Äî –ø—É—Ç–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

--no-show ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–∫–∞–∑ –æ–∫–æ–Ω (—Ç–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)

--noise-sigma ‚Äî —É—Ä–æ–≤–µ–Ω—å —à—É–º–∞ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8.0)
```
- –ü—Ä–∏–º–µ—Ä:
```bash
python template_match.py --image_path myphoto.jpg --tpl_rect 100 50 80 80 --method TM_CCORR_NORMED
```
## Code Explanation üí°
### template_match.py

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

 - load_image_rgb() ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ RGB
 - extract_template() ‚Äî –≤—ã—Ä–µ–∑–∞–µ—Ç —à–∞–±–ª–æ–Ω –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
 - match_and_draw() ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–∞ –∏ —Ä–∏—Å—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
 - cv2_method_from_str() ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –º–µ—Ç–æ–¥–∞ –≤ OpenCV –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
 - add_noise() ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –≥–∞—É—Å—Å–æ–≤ —à—É–º –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
   
- –§—É–Ω–∫—Ü–∏—è main()
 - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
 - –í—ã—Ä–µ–∑–∞–µ—Ç —à–∞–±–ª–æ–Ω
 - –í—ã–ø–æ–ª–Ω—è–µ—Ç template matching –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ –∏ –∑–∞—à—É–º–ª—ë–Ω–Ω–æ–π –∫–æ–ø–∏–∏ 
 - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏/–∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã üìç

## Limitations üöß
- –¢—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —à–∞–±–ª–æ–Ω –±—ã–ª –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø—É—Ç–µ–π (–≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫—É)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã matchTemplate, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –∫–æ–ª–µ–±–∞—Ç—å—Å—è –Ω–∞ –∑–∞—à—É–º–ª—ë–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö

## Example Output üåü
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å:
```bash
[1] TM_CCOEFF_NORMED: score=0.998, top-left=(330, 200)
[2] TM_CCOEFF_NORMED (noisy): score=0.971, top-left=(330, 200)
```

–¢–∞–∫–∂–µ –ø–æ—è–≤—è—Ç—Å—è 2 –æ–∫–Ω–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:
 - –ò—Å—Ö–æ–¥–Ω–æ–µ —Å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
 - –ö–∞—Ä—Ç–∞ –æ—Ç–∫–ª–∏–∫–∞ matchTemplate
–ò –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Ñ–∞–π–ª—ã:
 - match_result_1.png
 - match_result_2.png

## License üìú
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –µ—Å—Ç—å, —Ç–æ–ª—å–∫–æ –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö. üéì
